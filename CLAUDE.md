# WB Analiz

## О проекте
Инструменты для продавцов Wildberries. Автоматизация рутины.

## Текущая задача
**Фича 1:** Определение товаров, требующих повышения цены (остаток < 7 дней).

## Стиль работы
- Пишем функции в `wb_api.py`
- Тестируем на лету в терминале
- Функция за функцией, с проверкой заказчика

## Стиль общения
Лаконично, чётко, по делу. Без воды.

## Правило работы
**Перед написанием любого кода** — сначала обсуждаем план и детали. Только после одобрения — реализация.

## Окружение
- **venv:** `/Users/mask/Documents/ПРОЕКТЫ_2024/СОЮЗ_СНАБ_workRepo/knowledge_map_release_v2/ai-neuro/semantic_venv/bin/activate`

## Доступы
- **Токен WB API:** `nemov_token.txt` (строка 2)
- **Авторизация:** заголовок `Authorization: {токен}`

## Структура
```
wb_analiz/
├── CLAUDE.md                      ← ты тут
├── nemov_token.txt                ← токен WB API
├── wb_api.py                      ← функции API
├── price_analysis.ipynb           ← ноутбук с анализом
├── bot/                           ← Телеграм-бот
│   ├── __init__.py
│   ├── config.py                  ← настройки
│   ├── report.py                  ← генерация Excel
│   ├── handlers.py                ← обработчики команд
│   └── main.py                    ← точка входа
├── Dockerfile
├── docker-compose.yml
├── requirements.txt
├── start.sh                       ← скрипт запуска
├── .env.example                   ← пример переменных окружения
├── feedback/                      ← хранение фидбека
└── reports/                       ← сгенерированные отчёты
```

## Что сделано
1. Подключение к WB API ✅
2. Выгрузки данных за январь ✅
3. Скрипт рекомендаций по ценам ✅
4. Телеграм-бот с ежедневной отправкой ✅

## Запуск бота
```bash
# 1. Создать .env файл
cp .env.example .env
# Заполнить TELEGRAM_TOKEN и CHAT_ID

# 2. Запустить
./start.sh
```

## TODO
- [x] Автозапуск (cron) → реализовано через APScheduler
- [x] Уведомления (Telegram) → бот отправляет Excel в 8:00 МСК
- [x] Свежие данные через API (не из CSV) → бот берёт данные из API
